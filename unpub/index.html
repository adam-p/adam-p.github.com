<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"><link rel=alternate type=application/rss+xml href=../unpub/feed.xml title="Unpubs | adam-p"><meta name=google-site-verification content="WxZdzPANRFpehqogDMcTc9HLGXXDJy5If07MuUZvHho"><link rel=icon type=image/png href=../favicon.png><link rel=stylesheet href=../scss/styles.css><title>Unpubs | adam-p</title></head><body><nav class="navbar navbar-expand-md navbar-light bg-light"><div class=container-fluid><a class=navbar-brand href=../>adam-p
</a><button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#navbarNav aria-controls=navbarNav aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarNav><ul class=navbar-nav><li class=nav-item><a class=nav-link href=../blog/>Blog</a></li><li class=nav-item><a class=nav-link href=../inco/>In/Co</a></li><li class=nav-item><a class=nav-link href=../projects/>Projects</a></li><li class=nav-item><a class=nav-link href=../cv/>CV</a></li></ul></div></div></nav><div class=container-fluid><main><div><header><h1 class=title>Unpubs</h1><a href=../unpub/feed.xml><i class="bi-rss-fill float-end"></i></a></header></div><hr><div class=row-fluid><div class="span12 post-excerpt"><div class=post-specs><h4><a href=../unpub/2025/04/string-length/>The best – but not good – way to limit string length</a></h4><div>2025-04-28</div><div class=post-body><div><p>&ldquo;How long is this string?&rdquo; should be the easiest question in software development, followed by: &ldquo;How do I limit the length of this string?&rdquo; You can &ndash; and should &ndash; look up your programming language documentation for the former; for the latter, the answer takes of the form of: &ldquo;The easy choice isn&rsquo;t great, and the best choice is only marginally better.&rdquo;</p><p>We&rsquo;re going to dive hard into these questions and try to fully grok what we&rsquo;re doing and why.</p><p>A TL;DR misses the &ldquo;fully grok&rdquo; part, but not everyone has time to read everything, so here are the takeaways:</p><ol><li>Be aware that there are different ways of measuring string length.</li><li>Really understand how your programming language stores strings in memory, exposes them to you, and determines string length.</li><li>Make an intentional decision about how you&rsquo;re going to count characters when limiting string length.</li><li>Make sure you use that same counting method across all the layers of your architecture.</li><li>Look carefully at how the &ldquo;max length&rdquo; features provided by your language (framework, etc.) actually work. There&rsquo;s a very good chance that they do not match the limiting method you chose.</li><li>Probably limit by counting normalized Unicode code points. (Like <a href="https://google.aip.dev/210#:~:text=Character%20definition">Google recommends</a>.)</li></ol></div><div class="overflow-fade text-end"><h1><a href=../unpub/2025/04/string-length/>>>></a></h1></div></div></div></div></div></main><footer class=text-end><small>© 2025 Adam Pritchard</small></footer></div><script src=../node_modules/bootstrap/dist/js/bootstrap.js></script></body></html>